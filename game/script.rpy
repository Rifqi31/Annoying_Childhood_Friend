## The script of the game goes in this file.

## Declare characters used by this game. The color argument colorizes the name
## of the character.

#character

#################################################
#declare characters near position
#################################################

#####################################
#Arthur#
#####################################

#eksepresi arthur

#Arthur Teen
image arthur_normal = im.Scale("characters/Arthur/teen/Arthur-normal.png", 346, 800)
image arthur_senyum = im.Scale("characters/Arthur/teen/Arthur-senyum.png", 346, 800)
image arthur_kaget = im.Scale("characters/Arthur/teen/Arthur-kaget.png", 346, 800)
image arthur_terkejut = im.Scale("characters/Arthur/teen/Arthur-terkejut.png", 346, 800)
image arthur_segan = im.Scale("characters/Arthur/teen/Arthur-segan.png", 346, 800)
image arthur_segan2 = im.Scale("characters/Arthur/teen/Arthur-segan2.png", 346, 800)
image arthur_sedih = im.Scale("characters/Arthur/teen/Arthur-sedih.png", 346, 800)


#Arthur Young
image arthur_young normal = im.Scale("characters/Arthur/young/arthur2-normal.png", 450, 800)
image arthur_young senyum = im.Scale("characters/Arthur/young/arthur2-senyum.png", 450, 800)
image arthur_young sedih = im.Scale("characters/Arthur/young/arthur2-sedih.png", 450, 800)
image arthur_young sedih_2 = im.Scale("characters/Arthur/young/arthur2-sedih2.png", 450, 800)
image arthur_young sedih_3 = im.Scale("characters/Arthur/young/arthur2-sedih3.png", 450, 800)
image arthur_young marah = im.Scale("characters/Arthur/young/arthur2-marah.png", 450, 800)




#####################################
#Ivan#
#####################################

#ekspresi ivan

#Ivan Teen
image ivan_normal = im.Scale("characters/Ivan/teen/Ivan-normal.png",346, 800)
image ivan_senyum = im.Scale("characters/Ivan/teen/Ivan-senyum.png", 346, 800)
image ivan_tablo = im.Scale("characters/Ivan/teen/Ivan-tablo.png", 346, 800)
image ivan_kesel = im.Scale("characters/Ivan/teen/Ivan-kesel.png", 346, 800)
image ivan_marah = im.Scale("characters/Ivan/teen/Ivan-marah.png", 346, 800)
image ivan_kaget = im.Scale("characters/Ivan/teen/Ivan-kaget.png", 346, 800)
image ivan_sebel = im.Scale("characters/Ivan/teen/Ivan-sebel.png", 346, 800)
image ivan_ngeledek = im.Scale("characters/Ivan/teen/Ivan-ngeledek.png", 346, 800)
image ivan_bersiul = im.Scale("characters/Ivan/teen/Ivan-siul.png", 346, 800)


#Ivan Kasual
image ivkas_normal = im.Scale("characters/Ivan/kasual/IvanS_normal.png", 346, 800)
image ivkas_geram = im.Scale("characters/Ivan/kasual/IvanS_geram.png", 346, 800)
image ivkas_kaget = im.Scale("characters/Ivan/kasual/IvanS_kaget.png", 346, 800)
image ivkas_kesel = im.Scale("characters/Ivan/kasual/IvanS_kesel.png", 346, 800)
image ivkas_marah = im.Scale("characters/Ivan/kasual/IvanS_marah.png", 346, 800)
image ivkas_paling = im.Scale("characters/Ivan/kasual/IvanS_paling.png", 346, 800)
image ivkas_sayu = im.Scale("characters/Ivan/kasual/IvanS_sayu.png", 346, 800)
image ivkas_senyum = im.Scale("characters/Ivan/kasual/IvanS_senyum.png", 346, 800)
image ivkas_ledek = im.Scale("characters/Ivan/kasual/IvanS_ledek.png", 346, 800)


#####################################
#Karin#
#####################################

#ekspresi karin

#Karin Teen
image karin_normal = im.Scale("characters/Karin/teen/karin-normal.png", 346, 800)
image karin_marah = im.Scale("characters/Karin/teen/karin-marah.png", 346, 800)
image karin_sedih = im.Scale("characters/Karin/teen/karin-sedih.png", 346, 800)


#Karin Young
image karin_young normal = im.Scale("characters/Karin/young/karin2-normal.png", 425, 800)
image karin_young senyum = im.Scale("characters/Karin/young/karin2-senyum.png", 425, 800)
image karin_young kesal = im.Scale("characters/Karin/young/karin2-kesal.png", 425, 800)
image karin_young kesal_2 = im.Scale("characters/Karin/young/karin2-kesal2.png", 425, 800)
image karin_young nutup = im.Scale("characters/Karin/young/karin2-nutup.png", 425, 800)
image karin_young sayu = im.Scale("characters/Karin/young/karin2-sayu.png", 425, 800)






#################################################
#declare characters normal position
#################################################

#####################################
#Ivan#
#####################################

#Ivan School Uniform
image ivan_normal normal= im.Scale("characters/Ivan/teen/Ivan-normal.png", 285, 650)
image ivan_senyum normal= im.Scale("characters/Ivan/teen/Ivan-senyum.png", 285, 650)
image ivan_tablo normal= im.Scale("characters/Ivan/teen/Ivan-tablo.png", 285, 650)
image ivan_kesel normal= im.Scale("characters/Ivan/teen/Ivan-kesel.png", 285, 650)
image ivan_marah normal= im.Scale("characters/Ivan/teen/Ivan-marah.png", 285, 650)
image ivan_kaget normal= im.Scale("characters/Ivan/teen/Ivan-kaget.png", 285, 650)
image ivan_sebel normal= im.Scale("characters/Ivan/teen/Ivan-sebel.png", 285, 650)
image ivan_ngeledek normal= im.Scale("characters/Ivan/teen/Ivan-ngeledek.png", 285, 650)
image ivan_bersiul normal= im.Scale("characters/Ivan/teen/Ivan-siul.png", 285, 650)



#Ivan Kasual
image ivkas_normal normal = im.Scale("characters/Ivan/kasual/IvanS_normal.png", 285, 650)
image ivkas_geram normal = im.Scale("characters/Ivan/kasual/IvanS_geram.png", 285, 650)
image ivkas_kaget normal = im.Scale("characters/Ivan/kasual/IvanS_kaget.png", 285, 650)
image ivkas_kesel normal = im.Scale("characters/Ivan/kasual/IvanS_kesel.png", 285, 650)
image ivkas_marah normal = im.Scale("characters/Ivan/kasual/IvanS_marah.png", 285, 650)
image ivkas_paling normal = im.Scale("characters/Ivan/kasual/IvanS_paling.png", 285, 650)
image ivkas_sayu normal = im.Scale("characters/Ivan/kasual/IvanS_sayu.png", 285, 650)
image ivkas_senyum normal = im.Scale("characters/Ivan/kasual/IvanS_senyum.png", 285, 650)


#Karin Young
image karin_young normal normal = im.Scale("characters/Karin/young/karin2-normal.png", 350, 650)
image karin_young senyum normal = im.Scale("characters/Karin/young/karin2-senyum.png", 400, 650)
image karin_young kesal normal = im.Scale("characters/Karin/young/karin2-kesal.png", 350, 650)
image karin_young kesal_2 normal = im.Scale("characters/Karin/young/karin2-kesal2.png", 285, 650)
image karin_young nutup normal = im.Scale("characters/Karin/young/karin2-nutup.png", 350, 650)
image karin_young sayu normal = im.Scale("characters/Karin/young/karin2-sayu.png", 350, 650)



#####################################
#Karin#
#####################################

#karin
image karin_marah normal= im.Scale("characters/Karin/teen/karin-marah.png", 285, 650)



#################################################
#declare characters far position
#################################################

#arthur
image arthur_normal far = im.Scale("characters/Arthur/teen/Arthur-normal.png", 302, 700)


#karin
image karin_normal far = im.Scale("characters/Karin/teen/karin-normal.png", 302, 700)
image karin_marah far = im.Scale("characters/Karin/teen/karin-marah.png", 302, 700)
image karin_sedih far = im.Scale("characters/Karin/teen/karin-sedih.png", 302, 700)



#################################################
#declare characters event position
#################################################
#ivan
image ivan_marah cinematic = im.Crop("characters/Ivan/teen/Ivan-marah_cin.png",0,0,346,630)
image ivan_sebel cinematic = im.Crop("characters/Ivan/teen/Ivan-sebel_cin.png",0,0,346,630)
image ivan_tablo cinematic = im.Crop("characters/Ivan/teen/Ivan-tablo_cin.png",0,0,346,630)
image ivan_kesel cinematic far = Image("characters/Ivan/teen/Ivan-kesel_far.png",xalign = 0.3, yalign= 0.4)

#hiding position
image ivan_kaget hiding = Image("characters/Ivan/teen/ivan-kaget_sembunyi.png",xpos = 450 , ypos = 230)
image ivan_senyum hiding = Image("characters/Ivan/teen/ivan-senyum_sembunyi.png",xpos = 450 , ypos = 230)


#hiding position
image karin_sedih hiding = Image("characters/Karin/teen/karin-sedih_sembunyi.png",xpos = 510 , ypos = 230)





#backgrounds
image bg jalanan = "backgrounds/jalanan.jpg"

image bg koridor = "backgrounds/koridor.jpg"

image bg tangga = "backgrounds/tangga.jpg"

image bg kelas = "backgrounds/kelas.jpg"

image bg kamar ivan = "backgrounds/kamar-ivan.jpg"

image bg pemakaman = "backgrounds/pemakaman.jpg"

image bg tangga = "backgrounds/tangga.jpg"

image bg rumah_sakit = "backgrounds/rumah-sakit.jpg"

image bg apartemen = "backgrounds/apartemen.jpg"

image bg apartemen2 = "backgrounds/apartemen2.jpg"

image bg kamar_mandi = im.Scale("backgrounds/kamar_mandi.jpg", 1366, 768)

image bg lorong_rm = "backgrounds/lorong_rumah_sakit.jpg"

image bg jalanan_baru = im.Scale("backgrounds/jalanan2.jpg", 1366, 768)

image bg rumah_ivan = im.Scale("backgrounds/Rumah_ivan.jpg", 1366, 768)

image rumah_ivan_dalam = "backgrounds/rumiv-dalem.jpg"

image bg jalanan_baru2 = "backgrounds/jalan_masa_depan.jpg"

image bg batu nisan = "backgrounds/batu-nisan.jpg"



#event
image lisa_cg = "events/cg.jpg"

image vas_bunga = Image("events/vas2.jpg", xalign = 0.5, yalign= 0.5)

image dinding_ivan = "backgrounds/dinding-ivan.jpg"

image sky_cg = "events/langit.jpg"

image snack1 = Image("events/snack1.jpg", xalign = 0.5, yalign= 0.5)

image snack2 = Image("events/snack2.jpg", xalign = 0.5, yalign= 0.5)

image kantong_plastik = Image("events/plastik.jpg", xalign = 0.5, yalign= 0.5)

image minuman = Image("events/minuman.jpg", xalign = 0.5, yalign= 0.5)

image surat = Image("events/surat.jpg", xalign = 0.5, yalign= 0.5)

image lisa_cg2 = "events/cg2.jpg"

image langit = "events/langit.jpg"

image langit2 = "events/langit2.jpg"

image cinema = "events/cinema.png"

image iv_merem = "events/iv-sakit/merem.jpg"

image iv_bangun = "events/iv-sakit/bangun.jpg"

image iv_kesal = "events/iv-sakit/kesal.jpg"

image iv_marah = "events/iv-sakit/marah.jpg"

image iv_normal = "events/iv-sakit/normal.jpg"

image iv_picik = "events/iv-sakit/picik.jpg"

image iv_senang = "events/iv-sakit/senang.jpg"

image iv_serius = "events/iv-sakit/serius.jpg"



#initialize audio

#sound effect
define audio.opendoor_morning = "sfx/door.wav"
define audio.walking_morning = "sfx/steps.wav"
define audio.birds = "sfx/birds.wav"
define audio.walking_fast = "sfx/faststeps.wav"
define audio.hit_body = "sfx/hit1.wav"
define audio.outside_door = "sfx/outsidedooropen.wav"
define audio.classbell = "sfx/classbell.wav"
define audio.shokku = "sfx/shokku.wav"
define audio.slap = "sfx/slap.wav"
define audio.pecah = "sfx/pecah.wav"
define audio.bel_apartemen = "sfx/doorbell.wav"
define audio.nelpon = "sfx/nelp.wav"
define audio.dial = "sfx/dial.wav"


#backgroudn music
define audio.apartemen = "music/apartemen.mp3"
define audio.belakang_sekolah = "music/belakang.mp3"
define audio.kelas = "music/kelas.mp3"
define audio.koridor_sekolah = "music/koridor.mp3"
define audio.prolog = "music/prolog.mp3"
define audio.sad_music = "music/Beautiful_Sad_Piano.mp3"
define audio.open_mind = "music/open_your_mind.mp3"
define audio.calm_music = "music/beautiful_calm.mp3"
define audio.sesuatu = "music/sesuatu.mp3"
define audio.leaving_you = "music/JewelBeat - Leaving You.wav"




#logic position
#posisi deket 1
transform my_near:
    xalign .5 yalign 0.1


#posisi deket 2
transform my_near2:
    xalign .5 yalign -1.0




#posisi untuk kiri
transform my_left:
    xalign .3 yalign 1.0


#posisi untuk kanan
transform my_right:
    xalign .6 yalign 1.0




#posisi sembuyi
transform sembunyi_1:
    xalign .6 yalign 1.0

transform sembunyi_2:
    xalign .9 yalign 1.0



#posisi vas bunga jatuh
transform vas_center:
    xalign .5 yalign 0.6





#posisi berkumpul -> bagian kiri
transform posisi_kiri:
    xalign .2 yalign 1.0


#posisi berkumpul -> bagian kanan
transform posisi_kanan:
    xalign .8 yalign 1.0



# declare the character
define n = Character(ctc=anim.Blink("next-button.png", xpos=1010, ypos=620, xanchor=0, yanchor=0),
                   ctc_position="fixed",
                   what_outlines = [(3, "#5186ff", 0, 0)])


#main karakter

define l = Character('Lisa',
                    color="#ffffff",
                    ctc=anim.Blink("next-button.png", xpos=1010, ypos=620, xanchor=0, yanchor=0),
                    ctc_position="fixed",
                    who_outlines =[(3, "#5186ff", 0, 0)],
                    what_outlines = [(3, "#5186ff", 0, 0)])



define a = Character('Arthur',
                    color="#ffffff",
                    ctc=anim.Blink("next-button.png", xpos=1010, ypos=620, xanchor=0, yanchor=0),
                    ctc_position="fixed",
                    who_outlines =[(3, "#5186ff", 0, 0)],
                    what_outlines = [(3, "#5186ff", 0, 0)])



define i = Character('Ivan',
                    color="#ffffff",
                    ctc=anim.Blink("next-button.png", xpos=1010, ypos=620, xanchor=0, yanchor=0),
                    ctc_position="fixed",
                    who_outlines =[(3, "#5186ff", 0, 0)],
                    what_outlines = [(3, "#5186ff", 0, 0)])


define k = Character('Karin',
                    color="#ffffff",
                    ctc=anim.Blink("next-button.png", xpos=1010, ypos=620, xanchor=0, yanchor=0),
                    ctc_position="fixed",
                    who_outlines =[(3, "#5186ff", 0, 0)],
                    what_outlines = [(3, "#5186ff", 0, 0)])




#karakter pembantu
define c = Character('Cewek A',
                    color="#ffffff",
                    ctc=anim.Blink("next-button.png", xpos=1010, ypos=620, xanchor=0, yanchor=0),
                    ctc_position="fixed",
                    who_outlines =[(3, "#5186ff", 0, 0)],
                    what_outlines = [(3, "#5186ff", 0, 0)])


define g = Character('Pak Andi',
                    color="#ffffff",
                    ctc=anim.Blink("next-button.png", xpos=1010, ypos=620, xanchor=0, yanchor=0),
                    ctc_position="fixed",
                    who_outlines =[(3, "#5186ff", 0, 0)],
                    what_outlines = [(3, "#5186ff", 0, 0)])


define s = Character('Suster',
                    color="#ffffff",
                    ctc=anim.Blink("next-button.png", xpos=1010, ypos=620, xanchor=0, yanchor=0),
                    ctc_position="fixed",
                    who_outlines =[(3, "#5186ff", 0, 0)],
                    what_outlines = [(3, "#5186ff", 0, 0)])


define child = Character('Gadis Mungil',
                    color="#ffffff",
                    ctc=anim.Blink("next-button.png", xpos=1010, ypos=620, xanchor=0, yanchor=0),
                    ctc_position="fixed",
                    who_outlines =[(3, "#5186ff", 0, 0)],
                    what_outlines = [(3, "#5186ff", 0, 0)])


define man = Character('Another Man',
                    color="#ffffff",
                    ctc=anim.Blink("next-button.png", xpos=1010, ypos=620, xanchor=0, yanchor=0),
                    ctc_position="fixed",
                    who_outlines =[(3, "#5186ff", 0, 0)],
                    what_outlines = [(3, "#5186ff", 0, 0)])


#conditional
define anonim = Character('???',
                    color="#ffffff",
                    ctc=anim.Blink("next-button.png", xpos=1010, ypos=620, xanchor=0, yanchor=0),
                    ctc_position="fixed",
                    who_outlines =[(3, "#5186ff", 0, 0)],
                    what_outlines = [(3, "#5186ff", 0, 0)])



#shake effetct
init python:

    import math

    class Shaker(object):

            anchors = {
                'top' : 0.0,
                'center' : 0.5,
                'bottom' : 1.0,
                'left' : 0.0,
                'right' : 1.0,
                }

            def __init__(self, start, child, dist):
                if start is None:
                    start = child.get_placement()
                #
                self.start = [ self.anchors.get(i, i) for i in start ]  # central position
                self.dist = dist    # maximum distance, in pixels, from the starting point
                self.child = child

            def __call__(self, t, sizes):
                # Float to integer... turns floating point numbers to
                # integers.
                def fti(x, r):
                    if x is None:
                        x = 0
                    if isinstance(x, float):
                        return int(x * r)
                    else:
                        return x

                xpos, ypos, xanchor, yanchor = [ fti(a, b) for a, b in zip(self.start, sizes) ]

                xpos = xpos - xanchor
                ypos = ypos - yanchor

                nx = xpos + (1.0-t) * self.dist * (renpy.random.random()*2-1)
                ny = ypos + (1.0-t) * self.dist * (renpy.random.random()*2-1)

                return (int(nx), int(ny), 0, 0)

    def _Shake(start, time, child=None, dist=100.0, **properties):

        move = Shaker(start, child, dist=dist)

        return renpy.display.layout.Motion(move,
                    time,
                    child,
                    add_sizes=True,
                    **properties)

    Shake = renpy.curry(_Shake)




## The game starts here.

label start:

    ## This shows a character sprite. A placeholder is used, but you can replace
    ## it by adding a file named "eileen happy.png" to the images directory.

    ## These display lines of dialogue.

    call front_credits
    
    jump start_prolog


label front_credits:
    scene white with fade

    show present:
        xpos 500  ypos 300

    $ renpy.pause(3.0, hard=True)

    hide present
    

    show created:
        xpos 500  ypos 300

    with dissolve

    $ renpy.pause(3.0, hard=True)

    hide created


    show deddy:
        xpos 400 ypos 200

    show nando:
        xpos 400 ypos 280

    show rifqi:
        xpos 400 ypos 400

    show writer:
        xpos 400 ypos 480

    with dissolve

    $ renpy.pause(3.0, hard=True)

    hide deddy
    hide nando
    hide rifqi
    hide writer


    show engine:
        xpos 250 ypos 200

    show mikudance:
        xpos 700 ypos 200

    with dissolve

    $ renpy.pause(3.0, hard=True)

    hide engine
    hide mikudance


init:
    image white = Solid((255, 255, 255, 255))
    image black = Solid((0,0,0))

    image present = Text("{size=40}{color=#000000}Presented By", text_align=0.5)
    
    image deddy = Text("{size=25},{color=#000000}Deddy Z                Art+Director", text_align=0.5)
    image nando = Text("{size=25},{color=#000000}Rifqi                      Proramming", text_align=0.5)
    image rifqi = Text("{size=25},{color=#000000}Fernando               Art", text_align=0.5)
    image writer = Text("{size=25},{color=#000000}R Lullaby               Writer", text_align=0.5)

    image created = Text("{size=40}{color=#000000}Created with", text_align=0.5)

    image engine = "logo/renpy.png"
    image mikudance = "logo/miku_miku_dance.png"
